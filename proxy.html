<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Velkas Panel: Private</title>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

    <style>
        /* --- ÿßÿ≥ÿ™ÿß€åŸÑ‚ÄåŸáÿß (ÿØÿ≥ÿ™ ŸÜÿÆŸàÿ±ÿØŸá ÿ∑ÿ®ŸÇ ÿ≥ŸÑ€åŸÇŸá ÿ¥ŸÖÿß) --- */
        :root {
            --bg-grad-start: #020617;
            --bg-grad-mid: #0f172a;
            --bg-grad-end: #064e3b;
            --card-bg: rgba(15, 23, 42, 0.75);
            --card-border: rgba(148, 163, 255, 0.2);
            --card-shadow: 0 25px 60px rgba(0,0,0,0.8);
            --text-main: #f8fafc;
            --text-sec: #94a3b8;
            --text-accent: #38bdf8;
            --tab-bg: rgba(15, 23, 42, 0.9);
            --tab-active: linear-gradient(135deg, #3b82f6, #8b5cf6);
            --box-bg: rgba(2, 6, 23, 0.6);
            --box-border: rgba(148, 163, 255, 0.1);
            --config-text: #a3ff9d;
            --btn-copy-grad: linear-gradient(135deg, #f97316, #facc15);
            --btn-next-bg: rgba(56, 189, 248, 0.1);
            --btn-next-border: rgba(56, 189, 248, 0.4);
            --btn-next-text: #38bdf8;
            --btn-start-grad: linear-gradient(135deg, #00c6ff, #0072ff);
            --blob-1: rgba(59, 130, 246, 0.3);
            --blob-2: rgba(168, 85, 247, 0.3);
            --blob-3: rgba(20, 184, 166, 0.3);
        }

        body.theme-light {
            --bg-grad-start: #e0f2fe; --bg-grad-mid: #f0f9ff; --bg-grad-end: #f5f3ff;
            --card-bg: rgba(255, 255, 255, 0.85); --card-border: rgba(0, 0, 0, 0.08);
            --text-main: #0f172a; --text-sec: #64748b; --text-accent: #2563eb;
            --tab-bg: #f1f5f9; --tab-active: linear-gradient(135deg, #60a5fa, #a78bfa);
            --box-bg: #f8fafc; --box-border: #cbd5e1; --config-text: #16a34a;
            --btn-copy-grad: linear-gradient(135deg, #fb923c, #fcd34d);
            --btn-next-bg: #ffffff; --btn-next-border: #94a3b8; --btn-next-text: #475569;
            --blob-1: rgba(186, 230, 253, 0.6); --blob-2: rgba(221, 214, 254, 0.6); --blob-3: rgba(204, 251, 241, 0.6);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Vazirmatn', sans-serif; -webkit-tap-highlight-color: transparent; transition: background 0.4s, color 0.3s, border-color 0.3s; }
        body { background: linear-gradient(135deg, var(--bg-grad-start), var(--bg-grad-mid), var(--bg-grad-end)); background-size: 200% 200%; animation: gradMove 25s ease infinite; color: var(--text-main); min-height: 100vh; display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative; }
        @keyframes gradMove { 0% {background-position:0% 50%} 50% {background-position:100% 50%} 100% {background-position:0% 50%} }
        
        .blob { position: absolute; border-radius: 50%; filter: blur(70px); z-index: 0; animation: float 12s infinite alternate; }
        .b1 { width: 300px; height: 300px; background: var(--blob-1); top: -10%; left: -10%; }
        .b2 { width: 350px; height: 350px; background: var(--blob-2); bottom: -10%; right: -10%; animation-delay: -4s; }
        .b3 { width: 250px; height: 250px; background: var(--blob-3); top: 40%; left: 40%; animation-delay: -8s; }
        @keyframes float { from {transform: translate(0,0);} to {transform: translate(40px, -40px);} }

        .app-card { position: relative; z-index: 10; width: 90%; max-width: 420px; background: var(--card-bg); backdrop-filter: blur(20px); border: 1px solid var(--card-border); border-radius: 32px; padding: 24px; box-shadow: 0 25px 60px rgba(0,0,0,0.8); display: flex; flex-direction: column; gap: 20px; min-height: 550px; }
        
        .header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 15px; border-bottom: 1px solid var(--card-border); }
        .title-group h1 { font-size: 1.3rem; font-weight: 900; margin: 0; color: var(--text-main); }
        .subtitle-glow { font-size: 0.75rem; color: var(--text-sec); margin-top: 4px; font-weight: 500; animation: pulseText 3s infinite ease-in-out; }
        @keyframes pulseText { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; color: var(--text-accent); } }
        .theme-btn { width: 38px; height: 38px; border-radius: 50%; border: 1px solid var(--card-border); background: rgba(255,255,255,0.05); color: var(--text-main); font-size: 1.2rem; display: flex; align-items: center; justify-content: center; cursor: pointer; }

        .tabs { display: flex; gap: 10px; background: var(--tab-bg); padding: 5px; border-radius: 18px; }
        .tab-btn { flex: 1; padding: 12px; border: none; border-radius: 14px; font-size: 1rem; font-weight: 800; cursor: pointer; background: transparent; color: var(--text-sec); transition: 0.3s; }
        .tab-btn.active { background: var(--tab-active); color: #fff; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4); }

        .viewport { position: relative; flex: 1; display: flex; flex-direction: column; }
        
        .start-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; z-index: 5; transition: opacity 0.5s ease; }
        .btn-start { background: var(--btn-start-grad); color: #fff; border: none; padding: 25px; border-radius: 50%; font-size: 2.5rem; cursor: pointer; box-shadow: 0 0 0 0 rgba(0, 198, 255, 0.7); animation: pulse-btn 2s infinite; display: flex; align-items: center; justify-content: center; }
        @keyframes pulse-btn { 70% { transform: scale(1); box-shadow: 0 0 0 20px rgba(0, 198, 255, 0); } }
        .start-text { margin-top: 30px; font-size: 1.1rem; font-weight: bold; color: var(--text-main); }

        .content-view { display: none; flex-direction: column; height: 100%; justify-content: space-between; opacity: 0; transition: opacity 0.5s ease; }
        .content-view.visible { opacity: 1; }

        .info-card { background: var(--box-bg); border: 1px solid var(--box-border); border-radius: 24px; padding: 20px; display: flex; flex-direction: column; gap: 15px; animation: slideUp 0.5s ease; }
        @keyframes slideUp { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }

        .card-header { display: flex; flex-direction: column; gap: 8px; text-align: center; }
        .dynamic-title { font-size: 1.1rem; font-weight: 900; color: var(--text-main); direction: rtl; }
        .meta-tags { display: flex; justify-content: center; gap: 8px; font-size: 0.75rem; color: var(--text-sec); }
        .tag { background: rgba(125,125,125,0.15); padding: 3px 10px; border-radius: 8px; font-weight: bold; }
        .ping-green { color: #4ade80; } .ping-yellow { color: #facc15; }

        .code-box { background: rgba(0,0,0,0.2); border: 1px dashed var(--box-border); border-radius: 16px; padding: 15px; font-family: 'Courier New', monospace; font-size: 0.75rem; color: var(--config-text); direction: ltr; text-align: left; height: 120px; overflow-y: auto; white-space: pre-wrap; word-break: break-all; }
        
        .proxy-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--box-border); }
        .proxy-row:last-child { border: none; }
        .lbl { color: var(--text-sec); font-size: 0.9rem; }
        .val { color: var(--text-main); font-weight: bold; font-size: 0.95rem; direction: ltr; }

        .actions { display: flex; flex-direction: column; gap: 12px; margin-top: 15px; }
        .btn { width: 100%; padding: 16px; border: none; border-radius: 18px; font-size: 1rem; font-weight: 800; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; transition: transform 0.1s; }
        .btn-copy { background: var(--btn-copy-grad); color: #000; box-shadow: 0 5px 20px rgba(249, 115, 22, 0.3); }
        .btn-copy:active { transform: scale(0.96); }
        .btn-next { background: var(--btn-next-bg); color: var(--btn-next-text); border: 2px solid var(--btn-next-border); }
        .btn-next:active { transform: scale(0.96); }
        .counter { text-align: center; font-size: 0.75rem; color: var(--text-sec); margin-top: 5px; }

        .loader { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: none; flex-direction: column; align-items: center; justify-content: center; background: var(--card-bg); border-radius: 32px; z-index: 50; backdrop-filter: blur(10px); }
        .spinner { width: 40px; height: 40px; border: 4px solid rgba(255,255,255,0.1); border-top-color: var(--text-accent); border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 15px; }
        @keyframes spin { to {transform: rotate(360deg);} }
        .loader-text { font-size: 0.9rem; color: var(--text-sec); }

        #toast { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(50px); background: #10b981; color: #fff; padding: 10px 25px; border-radius: 30px; font-size: 0.85rem; font-weight: bold; opacity: 0; pointer-events: none; transition: 0.4s; display: flex; align-items: center; gap: 8px; z-index: 100; }
        #toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
    </style>
</head>
<body class="">

    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>

    <div class="app-card">
        <div class="header">
            <div class="title-group">
                <h1>Nano Proxy | V2ray</h1>
                <p class="subtitle-glow">ÿßÿ™ÿµÿßŸÑ ÿßŸÖŸÜ ÿ®Ÿá ÿ¨ŸáÿßŸÜ ÿ¢ÿ≤ÿßÿØ</p>
            </div>
            <button class="theme-btn" onclick="toggleTheme()">
                <ion-icon name="moon"></ion-icon>
            </button>
        </div>

        <div class="tabs">
            <button class="tab-btn active" id="tab-v2ray" onclick="switchTab('v2ray')">V2ray</button>
            <button class="tab-btn" id="tab-proxy" onclick="switchTab('proxy')">Proxy</button>
        </div>

        <div class="viewport">
            <div id="startScreen" class="start-screen">
                <button class="btn-start" onclick="initializeApp()">
                    <ion-icon name="power"></ion-icon>
                </button>
                <div class="start-text">ÿ®ÿ±ÿß€å ÿØÿ±€åÿßŸÅÿ™ ÿ∂ÿ±ÿ®Ÿá ÿ®ÿ≤ŸÜ€åÿØ</div>
            </div>

            <div id="contentView" class="content-view">
                
                <div id="v2rayCard" class="info-card" style="display:none">
                    <div class="card-header">
                        <div class="dynamic-title" id="vTitle">...</div>
                        <div class="meta-tags">
                            <span class="tag" id="vProto">VLESS</span>
                            <span class="tag ping-val" id="vPing">ms --</span>
                        </div>
                    </div>
                    <div class="code-box" id="vCode">...</div>
                </div>

                <div id="proxyCard" class="info-card" style="display:none">
                    <div class="card-header">
                        <div class="dynamic-title" id="pTitle">...</div>
                        <div class="meta-tags">
                            <span class="tag">MTProto</span>
                            <span class="tag ping-val" id="pPingVal">ms --</span>
                        </div>
                    </div>
                    <div class="proxy-row"><span class="lbl">Host:</span><span class="val" id="pHost">...</span></div>
                    <div class="proxy-row"><span class="lbl">Port:</span><span class="val" id="pPort">...</span></div>
                    <input type="hidden" id="pUrl">
                </div>

                <div class="counter" id="counter">---</div>

                <div class="actions">
                    <button class="btn btn-copy" onclick="mainAction()">
                        <ion-icon name="clipboard" style="font-size:1.3rem"></ion-icon>
                        <span id="btnCopyText">⁄©Ÿæ€å ⁄©ÿßŸÜŸÅ€å⁄Ø</span>
                    </button>
                    <button class="btn btn-next" onclick="nextItem()">
                        <ion-icon name="sync" style="font-size:1.3rem"></ion-icon>
                        <span id="btnNextText">⁄©ÿßŸÜŸÅ€å⁄Ø ÿ®ÿπÿØ€å</span>
                    </button>
                </div>
            </div>

            <div id="loader" class="loader">
                <div class="spinner"></div>
                <div class="loader-text" id="loaderText">ÿØÿ± ÿ≠ÿßŸÑ ÿ¢ŸÖÿßÿØŸá‚Äåÿ≥ÿßÿ≤€å...</div>
            </div>
        </div>

        <div id="toast"><ion-icon name="checkmark-circle"></ion-icon> <span>⁄©Ÿæ€å ÿ¥ÿØ!</span></div>
    </div>

    <script>
        // ==========================================
        // 1. ÿØÿßÿØŸá‚ÄåŸáÿß€å ⁄©ÿßŸÜŸÅ€å⁄Ø (VLESS)
        // ==========================================
        const rawConfigs = [
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@77.81.65.10:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=SkPIAkSI8R1LY1hynsZZcxKkPmJKU11DAMncccLEdjI#%F0%9F%87%A9%F0%9F%87%AA%20DE-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@147.78.180.10:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=Ot7NIMwy588LBegSSLxqxzXh9MszA0CxFPHbSAj7PR0#%F0%9F%87%B7%F0%9F%87%BA%20RU-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@193.202.12.10:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=BqPcbcS0agCOmW5xem5nQldi_2oGariVJdJZ6Q57810#%F0%9F%87%BA%F0%9F%87%B8%20US-05",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@193.56.20.10:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=wl7R7v8MbaC_Nh-_FNf1DoFXHDquVRtfX2Z20oXL6Q8#%F0%9F%87%BA%F0%9F%87%B8%20US-03",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@45.88.13.10:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=Tv-cNH4ADnhrcIc_JIHdTCz2PJ3b4jkmLNAJ4OVKuzY#%F0%9F%87%A6%F0%9F%87%AA%20AE-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@103.175.79.10:993?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=4e-unF1RO2v--E7-X3aqxnCSPaK9QaTfJ7LawAr2bRI#%F0%9F%87%B5%F0%9F%87%B0%20PK-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@213.232.123.10:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=SnjXP0GFBVxg3C7sbWUJ5JqKpnlg_BNMXuqoE78YhVE#%F0%9F%87%AE%F0%9F%87%B3%20IN-02",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@45.148.233.10:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=eJeVlxdi2YBV1YpPVCcCgTez80y8ny27SQoZZVBFGyc#%F0%9F%87%B3%F0%9F%87%B1%20NL-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@146.19.90.2:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=oE7ZEghzkaOUiw1q3PqBtpllP1NlPHLY8ydJRuICtko#%F0%9F%87%B8%F0%9F%87%A8%20SC-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@91.218.122.10:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=VxlbLM9ypmP8KyH65M6nPgArl19XOyREm9oNUlCN2yA#%F0%9F%87%BA%F0%9F%87%A6%20UA-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@155.212.37.10:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=0xVsi6JYS-gJFUILwuePsB32jvWtxRT_okJSmcWEQEc#%F0%9F%87%B3%F0%9F%87%B1%20NL-02",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@130.49.77.10:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=pd7ujYvrLsVhoEia4dhxPqmpAuapnezqMilXBSDIfgk#%F0%9F%87%AB%F0%9F%87%B7%20FR-02",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@166.1.131.2:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=UvQ2HZFkQXrBiaprbcmks-aFo1dvnfPlHXcUKcl-i04#%F0%9F%87%B0%F0%9F%87%BF%20KZ-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@166.1.131.3:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=LthJBtl69pQPsGvMQNNe100a9YyqaTXdaIY8gzOF2HU#%F0%9F%87%B5%F0%9F%87%B1%20PL-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@155.212.110.2:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=GfTzhy59k9CXlAdF819OUVeBdrqIILaDIWa1bddjGnA#%F0%9F%87%AB%F0%9F%87%B7%20FR-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@155.212.110.3:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=DnnQOtWhilZ3rqlSip0spBkluYlPeydouSR3iklbPTs#%F0%9F%87%AE%F0%9F%87%B3%20IN-03",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@166.1.131.6:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=_KiM4lu8Em0mJFmY8t2XRYGL-H2jbCtfKaFB0Io6JCE#%F0%9F%87%AA%F0%9F%87%B8%20ES-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@166.1.131.7:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=6h7z2IG6_BopO2tGTRAytfMOWbcXxRWghb2c9IILJkA#%F0%9F%87%B9%F0%9F%87%B7%20TR-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@166.1.131.8:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=E1iFYUiUC2G4W70mwPyfa9oV3EVt26SfZoLcqd2yaUI#%F0%9F%87%AC%F0%9F%87%A7%20UK-01",
            "vless://1f02058c-5c9d-04bb-a724-2dd17cc68bc7@166.1.131.4:443?security=reality&type=tcp&flow=xtls-rprx-vision&sni=speed.cloudflare.com&fp=chrome&pbk=oS6X1GK-gYtOfvMbwhhxpRfXBJlgy2sO6MbblxYNsA4#%F0%9F%87%B7%F0%9F%87%BA%20RU-02"
        ];

        // 2. ÿØÿßÿØŸá‚ÄåŸáÿß€å Ÿæÿ±Ÿà⁄©ÿ≥€å ÿ™ŸÑ⁄Øÿ±ÿßŸÖ (ÿ¢ŸæÿØ€åÿ™ ÿ¥ÿØ ÿ®ÿß ŸÑ€åŸÜ⁄©‚ÄåŸáÿß€å ÿ¥ŸÖÿß)
        const proxyList = [
            { t: "ŸáŸÖÿ±ÿßŸá ÿßŸàŸÑ | Ÿæÿ±Ÿà⁄©ÿ≥€å", h: "drum.loginom.info", p: "23", link: "tg://proxy?server=drum.loginom.info.&port=23&secret=eeNEgYdJvXrFGRMCIMJdCQtY2RueWVrdGFuZXQuY29tZmFyYWthdi5jb212YW4ubmFqdmEuY29tAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" },
            { t: "ÿß€åÿ±ÿßŸÜÿ≥ŸÑ | Ÿæÿ±Ÿà⁄©ÿ≥€å", h: "45.143.167.111", p: "20", link: "tg://proxy?server=45.143.167.111&port=20&secret=c7692d3e633c20b510da620b0c172fd5" },
            { t: "ÿ±ÿß€åÿ™ŸÑ | Ÿæÿ±Ÿà⁄©ÿ≥€å", h: "179.61.226.53", p: "733", link: "tg://proxy?server=179.61.226.53&port=733&secret=eeNEgYdJvXrFGRMCIMJdCQRueWVrdGFuZXQuY29tZmFyYWthdi5jb212YW4ubmFqdmEuY29tAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" }
        ];

        let mode = 'v2ray';
        let vData = [];
        let vIndex = 0;
        let pIndex = 0;
        let pingInterval;

        // ÿ™ÿßÿ®ÿπ ÿßÿµŸÑ€å ÿ¥ÿ±Ÿàÿπ (⁄©Ÿá ÿßÿ±Ÿàÿ± ŸÖ€å‚ÄåÿØÿßÿØ)
        function initializeApp() {
            // ÿßŸÜ€åŸÖ€åÿ¥ŸÜ ÿÆÿ±Ÿàÿ¨ ÿØ⁄©ŸÖŸá ÿ¥ÿ±Ÿàÿπ
            document.getElementById('startScreen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('startScreen').style.display = 'none';
                
                // ŸÜŸÖÿß€åÿ¥ ŸÖÿ≠ÿ™Ÿàÿß
                const cv = document.getElementById('contentView');
                cv.style.display = 'flex';
                // €åŸá ÿ™ÿß€åŸÖ ÿßŸàÿ™ ÿ±€åÿ≤ ÿ®ÿ±ÿß€å ÿßŸÜ€åŸÖ€åÿ¥ŸÜ
                setTimeout(() => cv.classList.add('visible'), 50);
                
                render();
                startLivePing();
            }, 500);
        }

        window.onload = () => {
            loadTheme();
            processV2Ray();
            // ÿ¥ÿßŸÅŸÑ ⁄©ÿ±ÿØŸÜ ÿ®ÿ±ÿß€å ÿ™ŸÜŸàÿπ ÿØÿ± ÿ¥ÿ±Ÿàÿπ
            vData = shuffle(vData);
        };

        function processV2Ray() {
            vData = rawConfigs.map(link => {
                let country = "ÿ¨ŸáÿßŸÜ€å üåê"; let tag = "ÿπŸÖŸàŸÖ€å";
                if (link.includes("DE")) { country="ÿ¢ŸÑŸÖÿßŸÜ üá©üá™"; tag="Ÿæÿ±ÿ≥ÿ±ÿπÿ™"; }
                else if (link.includes("NL")) { country="ŸáŸÑŸÜÿØ üá≥üá±"; tag="ÿØÿßŸÜŸÑŸàÿØ"; }
                else if (link.includes("US")) { country="ÿ¢ŸÖÿ±€å⁄©ÿß üá∫üá∏"; tag="ÿßÿ≥ÿ™€åÿ®ŸÑ"; }
                else if (link.includes("RU")) { country="ÿ±Ÿàÿ≥€åŸá üá∑üá∫"; tag="ŸÜÿßŸÖÿ≠ÿØŸàÿØ"; }
                else if (link.includes("AE")) { country="ÿßŸÖÿßÿ±ÿßÿ™ üá¶üá™"; tag="⁄Ø€åŸÖ€åŸÜ⁄Ø"; }
                else if (link.includes("FR")) { country="ŸÅÿ±ÿßŸÜÿ≥Ÿá üá´üá∑"; tag="Ÿæ€åŸÜ⁄Ø Ÿæÿß€å€åŸÜ"; }
                else if (link.includes("TR")) { country="ÿ™ÿ±⁄©€åŸá üáπüá∑"; tag="Ÿàÿ®⁄Øÿ±ÿØ€å"; }
                else if (link.includes("UK")) { country="ÿßŸÜ⁄ØŸÑ€åÿ≥ üá¨üáß"; tag="ÿ¢ÿ≤ÿßÿØ"; }
                else if (link.includes("UA")) { country="ÿßŸà⁄©ÿ±ÿß€åŸÜ üá∫üá¶"; tag="ÿÆŸÑŸàÿ™"; }
                else if (link.includes("KZ")) { country="ŸÇÿ≤ÿßŸÇÿ≥ÿ™ÿßŸÜ üá∞üáø"; tag="Ÿæÿß€åÿØÿßÿ±"; }
                else if (link.includes("ES")) { country="ÿßÿ≥ŸæÿßŸÜ€åÿß üá™üá∏"; tag="ÿßÿ±ŸàŸæÿß"; }
                else if (link.includes("IN")) { country="ŸáŸÜÿØ üáÆüá≥"; tag="ÿßÿ±ÿ≤ÿßŸÜ"; }
                
                return { title: `${tag} | ${country}`, code: link };
            });
        }

        // Ÿæ€åŸÜ⁄Ø ÿ≤ŸÜÿØŸá (ÿ¥ÿ®€åŸá‚Äåÿ≥ÿßÿ≤€å)
        function startLivePing() {
            if(pingInterval) clearInterval(pingInterval);
            const update = () => {
                const ping = Math.floor(Math.random() * (130 - 40) + 40);
                const vPing = document.getElementById('vPing');
                const pPing = document.getElementById('pPingVal');
                
                let cls = "tag ping-val ";
                if(ping < 60) cls += "ping-green"; else cls += "ping-yellow";

                if(vPing) { vPing.innerText = `ms ${ping} ‚ö°`; vPing.className = cls; }
                if(pPing) { pPing.innerText = `ms ${ping} ‚ö°`; pPing.className = cls; }
            };
            update();
            pingInterval = setInterval(update, 1500);
        }

        function render() {
            document.getElementById('v2rayCard').style.display = 'none';
            document.getElementById('proxyCard').style.display = 'none';

            if (mode === 'v2ray') {
                const item = vData[vIndex];
                document.getElementById('vTitle').innerText = item.title;
                document.getElementById('vCode').innerText = item.code;
                document.getElementById('counter').innerText = `⁄©ÿßŸÜŸÅ€å⁄Ø ${vIndex + 1} ÿßÿ≤ ${vData.length}`;
                document.getElementById('v2rayCard').style.display = 'flex';
            } else {
                const item = proxyList[pIndex];
                document.getElementById('pTitle').innerText = item.t;
                document.getElementById('pHost').innerText = item.h;
                document.getElementById('pPort').innerText = item.p;
                document.getElementById('pUrl').value = item.link;
                document.getElementById('counter').innerText = `Ÿæÿ±Ÿà⁄©ÿ≥€å ${pIndex + 1} ÿßÿ≤ ${proxyList.length}`;
                document.getElementById('proxyCard').style.display = 'flex';
            }
        }

        function switchTab(newMode) {
            mode = newMode;
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(mode === 'v2ray' ? 'tab-v2ray' : 'tab-proxy').classList.add('active');

            if (mode === 'v2ray') {
                document.getElementById('btnCopyText').innerText = "⁄©Ÿæ€å ⁄©ÿßŸÜŸÅ€å⁄Ø";
                document.getElementById('btnNextText').innerText = "⁄©ÿßŸÜŸÅ€å⁄Ø ÿ®ÿπÿØ€å";
                document.querySelector('.btn-copy ion-icon').name = "clipboard";
            } else {
                document.getElementById('btnCopyText').innerText = "ÿßÿ™ÿµÿßŸÑ ÿ®Ÿá ÿ™ŸÑ⁄Øÿ±ÿßŸÖ";
                document.getElementById('btnNextText').innerText = "Ÿæÿ±Ÿà⁄©ÿ≥€å ÿ¨ÿØ€åÿØ";
                document.querySelector('.btn-copy ion-icon').name = "paper-plane";
            }
            render();
        }

        function nextItem() {
            const loader = document.getElementById('loader');
            loader.style.display = 'flex';
            setTimeout(() => {
                if (mode === 'v2ray') vIndex = (vIndex + 1) % vData.length;
                else pIndex = (pIndex + 1) % proxyList.length;
                render();
                loader.style.display = 'none';
            }, 600);
        }

        function mainAction() {
            if (mode === 'v2ray') {
                const text = document.getElementById('vCode').innerText;
                navigator.clipboard.writeText(text).then(() => showToast("⁄©Ÿæ€å ÿ¥ÿØ!"));
            } else {
                window.location.href = document.getElementById('pUrl').value;
            }
        }

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.querySelector('span').innerText = msg;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2000);
        }

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function toggleTheme() {
            document.body.classList.toggle('theme-light');
            const isLight = document.body.classList.contains('theme-light');
            localStorage.setItem('velkas_theme', isLight ? 'light' : 'dark');
            document.querySelector('.theme-btn ion-icon').name = isLight ? 'sunny' : 'moon';
        }

        function loadTheme() {
            if (localStorage.getItem('velkas_theme') === 'light') {
                document.body.classList.add('theme-light');
                document.querySelector('.theme-btn ion-icon').name = 'sunny';
            }
        }
    </script>
</body>
</html>
